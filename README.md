

<img width="2048" height="786" alt="Gemini_Generated_Image_qdxpewqdxpewqdxp" src="https://github.com/user-attachments/assets/77af471c-8863-4d02-af12-b1faef0658d1" />




# Tsa-Security - –°–∏—Å—Ç–µ–º–∞ –∑–∞ –≤–∏–¥–µ–æ–Ω–∞–±–ª—é–¥–µ–Ω–∏–µ

[English Version](#tsa-security---video-surveillance-system)

**Tsa-Security** –µ –º–æ–¥–µ—Ä–Ω–æ –∏ –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ –¥–µ—Å–∫—Ç–æ–ø –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞ –≤–∏–¥–µ–æ–Ω–∞–±–ª—é–¥–µ–Ω–∏–µ, —Å—ä–∑–¥–∞–¥–µ–Ω–æ —Å **PySide6**. –¢–æ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤—è –Ω–∞ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏—Ç–µ –≤—ä–∑–º–æ–∂–Ω–æ—Å—Ç –∑–∞ –Ω–∞–±–ª—é–¥–µ–Ω–∏–µ –≤ —Ä–µ–∞–ª–Ω–æ –≤—Ä–µ–º–µ, –∑–∞–ø–∏—Å –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –∫–∞–º–µ—Ä–∏. –°—ä—Å —Å–≤–æ—è –∏–∑—á–∏—Å—Ç–µ–Ω –∏ –º–æ–¥–µ—Ä–µ–Ω —Ç—ä–º–µ–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ –µ –ø–æ–¥—Ö–æ–¥—è—â–æ –∫–∞–∫—Ç–æ –∑–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏, —Ç–∞–∫–∞ –∏ –∑–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∏, –∫–æ–∏—Ç–æ —Å–µ –Ω—É–∂–¥–∞—è—Ç –æ—Ç –ø–æ–≤–µ—á–µ –∫–æ–Ω—Ç—Ä–æ–ª.

## üåü –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏

* **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏**: –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ –ø–æ–¥–¥—ä—Ä–∂–∞ –¥–≤–µ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—Å–∫–∏ —Ä–æ–ª–∏ - **Administrator** –∏ **Standard**. –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∏—Ç–µ –∏–º–∞—Ç –ø—ä–ª–µ–Ω –¥–æ—Å—Ç—ä–ø –¥–æ –≤—Å–∏—á–∫–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–Ω–æ—Å—Ç–∏.
* **–î–∏–Ω–∞–º–∏—á–µ–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å**: –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ä—Ç —Å–µ –∞–¥–∞–ø—Ç–∏—Ä–∞ —Å–ø—Ä—è–º–æ —Ä–æ–ª—è—Ç–∞ –Ω–∞ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è, –∫–∞—Ç–æ —Å–∫—Ä–∏–≤–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—Å–∫–∏—Ç–µ –ø–∞–Ω–µ–ª–∏ –æ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏—Ç–µ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏.
* **–û—Ç–¥–∞–ª–µ—á–µ–Ω –¥–æ—Å—Ç—ä–ø —á—Ä–µ–∑ Tailscale**: –ü–æ–∑–≤–æ–ª—è–≤–∞ —Å–∏–≥—É—Ä–Ω–æ –Ω–∞–±–ª—é–¥–µ–Ω–∏–µ –Ω–∞ –∫–∞–º–µ—Ä–∏—Ç–µ –æ—Ç –≤—Å—è–∫–∞ —Ç–æ—á–∫–∞ –Ω–∞ —Å–≤–µ—Ç–∞, –±–µ–∑ –Ω—É–∂–¥–∞ –æ—Ç —Å–ª–æ–∂–Ω–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–∞—Ç–æ "port forwarding". –í–∞—à–∏—è—Ç –æ—Ñ–∏—Å–µ–Ω –∫–æ–º–ø—é—Ç—ä—Ä —Å–µ –ø—Ä–µ–≤—Ä—ä—â–∞ –≤ –ø–µ—Ä—Å–æ–Ω–∞–ª–µ–Ω NVR.
* **–ù–∞–±–ª—é–¥–µ–Ω–∏–µ –≤ —Ä–µ–∞–ª–Ω–æ –≤—Ä–µ–º–µ**: –ü–æ–∫–∞–∑–≤–∞ –≤–∏–¥–µ–æ –ø–æ—Ç–æ—Ü–∏ –æ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ –∫–∞–º–µ—Ä–∏ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º–∞ –º—Ä–µ–∂–∞ (1x1, 2x2, 3x3), —Å –≤—ä–∑–º–æ–∂–Ω–æ—Å—Ç –∑–∞ –∏–∑–±–æ—Ä –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞ –∫–∞–º–µ—Ä–∞.
* **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –∫–∞–º–µ—Ä–∏**: –ü–æ–∑–≤–æ–ª—è–≤–∞ –ª–µ—Å–Ω–æ –¥–æ–±–∞–≤—è–Ω–µ, —Ä–µ–¥–∞–∫—Ç–∏—Ä–∞–Ω–µ –∏ –∏–∑—Ç—Ä–∏–≤–∞–Ω–µ –Ω–∞ –∫–∞–º–µ—Ä–∏, –∫–∞–∫—Ç–æ –∏ —Å–∫–∞–Ω–∏—Ä–∞–Ω–µ –Ω–∞ –ª–æ–∫–∞–ª–Ω–∞—Ç–∞ –º—Ä–µ–∂–∞ –∑–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ—Ç–∫—Ä–∏–≤–∞–Ω–µ.
* **–ó–∞–ø–∏—Å –∏ —Å–Ω–∏–º–∫–∏**: –ü—Ä–µ–¥–ª–∞–≥–∞ —Ä—ä—á–µ–Ω –∑–∞–ø–∏—Å –∏ –ø—Ä–∞–≤–µ–Ω–µ –Ω–∞ —Å–Ω–∏–º–∫–∏ –æ—Ç –≤–∏–¥–µ–æ –ø–æ—Ç–æ–∫–∞ —Å –µ–¥–∏–Ω –∫–ª–∏–∫.
* **–î–µ—Ç–µ–∫—Ü–∏—è –Ω–∞ –¥–≤–∏–∂–µ–Ω–∏–µ**: –°–∏—Å—Ç–µ–º–∞—Ç–∞ –º–æ–∂–µ –¥–∞ –∑–∞—Å–∏—á–∞ –¥–≤–∏–∂–µ–Ω–∏–µ –≤ –∫–∞–¥—ä—Ä –∏ –¥–∞ –∏–Ω–¥–∏–∫–∏—Ä–∞ —Ç–æ–≤–∞ –≤–∏–∑—É–∞–ª–Ω–æ —Å —á–µ—Ä–≤–µ–Ω–∞ —Ä–∞–º–∫–∞.
* **–ü—Ä–µ–≥–ª–µ–¥ –Ω–∞ —Å—ä–±–∏—Ç–∏—è**: –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–∞–Ω —Ä–∞–∑–¥–µ–ª –∑–∞ –ø—Ä–µ–≥–ª–µ–¥ –Ω–∞ –∑–∞–ø–∏—Å–∏ –∏ —Å—ä–±–∏—Ç–∏—è, —Å –≤—ä–∑–º–æ–∂–Ω–æ—Å—Ç –∑–∞ —Ñ–∏–ª—Ç—Ä–∏—Ä–∞–Ω–µ –ø–æ –∫–∞–º–µ—Ä–∞ –∏ —Ç–∏–ø –Ω–∞ —Å—ä–±–∏—Ç–∏–µ—Ç–æ.
* **–ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è**: –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∑–∞ –ø—Ä–æ–º—è–Ω–∞ –Ω–∞ —Ç–µ–º–∞—Ç–∞, –∏–∑–≥–ª–µ–¥–∞ –ø–æ –ø–æ–¥—Ä–∞–∑–±–∏—Ä–∞–Ω–µ –∏ –ø—ä—Ç—è –∑–∞ —Å—ä—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞ –∑–∞–ø–∏—Å–∏—Ç–µ.
* **–ú–æ–¥–µ—Ä–µ–Ω –¥–∏–∑–∞–π–Ω**: –ò–∑–ø–æ–ª–∑–≤–∞ **QSS** –∑–∞ —Å—Ç–∏–ª–∏–∑–∏—Ä–∞–Ω–µ, –∫–æ–µ—Ç–æ –æ—Å–∏–≥—É—Ä—è–≤–∞ –ø—Ä–æ—Ñ–µ—Å–∏–æ–Ω–∞–ª–µ–Ω –∏ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–µ–Ω –∏–∑–≥–ª–µ–¥.

## üöÄ –ü—ä—Ä–≤–∏ —Å—Ç—ä–ø–∫–∏

1.  **–ö–ª–æ–Ω–∏—Ä–∞–π—Ç–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ—Ç–æ**:
    ```bash
    git clone [https://github.com/your-username/tsa-security-redesign1.git](https://github.com/your-username/tsa-security-redesign1.git)
    ```
2.  **–ò–Ω—Å—Ç–∞–ª–∏—Ä–∞–π—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏—Ç–µ**:
    ```bash
    pip install PySide6 opencv-python onvif-zeep
    ```
3.  **–°—Ç–∞—Ä—Ç–∏—Ä–∞–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ**:
    ```bash
    python main.py
    ```

## üíª –£–ø–æ—Ç—Ä–µ–±–∞

–ü—Ä–∏ —Å—Ç–∞—Ä—Ç–∏—Ä–∞–Ω–µ —â–µ –±—ä–¥–µ—Ç–µ –ø–æ—Å—Ä–µ—â–Ω–∞—Ç–∏ –æ—Ç –µ–∫—Ä–∞–Ω –∑–∞ –≤—Ö–æ–¥. –ú–æ–∂–µ—Ç–µ –¥–∞ –∏–∑–ø–æ–ª–∑–≤–∞—Ç–µ —Å–ª–µ–¥–Ω–∏—Ç–µ –¥–∞–Ω–Ω–∏ –æ—Ç `data/users.json`:

* **–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä**:
    * **–ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—Å–∫–æ –∏–º–µ**: `admin`
    * **–ü–∞—Ä–æ–ª–∞**: `password`
* **–°—Ç–∞–Ω–¥–∞—Ä—Ç–µ–Ω –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª**:
    * **–ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—Å–∫–æ –∏–º–µ**: `user`
    * **–ü–∞—Ä–æ–ª–∞**: `user`

## üîí –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∑–∞ –æ—Ç–¥–∞–ª–µ—á–µ–Ω –¥–æ—Å—Ç—ä–ø (Tailscale)

–¢–∞–∑–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–Ω–æ—Å—Ç –ø—Ä–µ–≤—Ä—ä—â–∞ –∫–æ–º–ø—é—Ç—ä—Ä–∞, –Ω–∞ –∫–æ–π—Ç–æ –µ –∏–Ω—Å—Ç–∞–ª–∏—Ä–∞–Ω–∞ –ø—Ä–æ–≥—Ä–∞–º–∞—Ç–∞ (–Ω–∞–ø—Ä. –≤ –æ—Ñ–∏—Å–∞), –≤—ä–≤ –≤–∞—à –ª–∏—á–µ–Ω NVR —Å—ä—Ä–≤—ä—Ä, –¥–æ—Å—Ç—ä–ø–µ–Ω –æ—Ç–≤—Å—è–∫—ä–¥–µ.

### –°—Ç—ä–ø–∫–∞ 1: –ù–∞ –∫–æ–º–ø—é—Ç—ä—Ä–∞-—Å—ä—Ä–≤—ä—Ä (–≤ –æ—Ñ–∏—Å–∞)

1.  **–ò–Ω—Å—Ç–∞–ª–∏—Ä–∞–π—Ç–µ Tailscale** –æ—Ç –æ—Ñ–∏—Ü–∏–∞–ª–Ω–∏—è —Å–∞–π—Ç –∏ –≤–ª–µ–∑—Ç–µ –≤ –∞–∫–∞—É–Ω—Ç–∞ —Å–∏.
2.  **–°–ø–æ–¥–µ–ª–µ—Ç–µ –ª–æ–∫–∞–ª–Ω–∞—Ç–∞ –º—Ä–µ–∂–∞**. –û—Ç–≤–æ—Ä–µ—Ç–µ Command Prompt **–∫–∞—Ç–æ –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä** –∏ –∏–∑–ø—ä–ª–Ω–µ—Ç–µ –∫–æ–º–∞–Ω–¥–∞—Ç–∞. –ó–∞–º–µ–Ω–µ—Ç–µ `192.168.1.0/24` —Å –æ–±—Ö–≤–∞—Ç–∞ –Ω–∞ –≤–∞—à–∞—Ç–∞ –º—Ä–µ–∂–∞, –∞–∫–æ –µ —Ä–∞–∑–ª–∏—á–µ–Ω.
    ```bash
    tailscale up --advertise-routes=192.168.1.0/24
    ```
3.  **–û–¥–æ–±—Ä–µ—Ç–µ –º—Ä–µ–∂–∞—Ç–∞** –æ—Ç –∞–¥–º–∏–Ω –∫–æ–Ω–∑–æ–ª–∞—Ç–∞ –Ω–∞ Tailscale.

### –°—Ç—ä–ø–∫–∞ 2: –ù–∞ –æ—Ç–¥–∞–ª–µ—á–µ–Ω–æ—Ç–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ (–Ω–∞–ø—Ä. –ª–∞–ø—Ç–æ–ø –≤–∫—ä—â–∏)

1.  **–ò–Ω—Å—Ç–∞–ª–∏—Ä–∞–π—Ç–µ Tailscale** –∏ –≤–ª–µ–∑—Ç–µ —Å—ä—Å **—Å—ä—â–∏—è –∞–∫–∞—É–Ω—Ç**.
2.  **–ò–Ω—Å—Ç–∞–ª–∏—Ä–∞–π—Ç–µ TSA-Security** (–∫–æ–ø–∏—Ä–∞–π—Ç–µ –ø–∞–ø–∫–∞—Ç–∞ —Å –ø—Ä–æ–≥—Ä–∞–º–∞—Ç–∞ –∏ –∏–Ω—Å—Ç–∞–ª–∏—Ä–∞–π—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏—Ç–µ).

### –°—Ç—ä–ø–∫–∞ 3: –°–≤—ä—Ä–∑–≤–∞–Ω–µ

–°—Ç–∞—Ä—Ç–∏—Ä–∞–π—Ç–µ TSA-Security –Ω–∞ –æ—Ç–¥–∞–ª–µ—á–µ–Ω–æ—Ç–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ. –î–æ–±–∞–≤–µ—Ç–µ –∫–∞–º–µ—Ä–∏—Ç–µ, –∫–∞—Ç–æ –∏–∑–ø–æ–ª–∑–≤–∞—Ç–µ —Ç–µ—Ö–Ω–∏—Ç–µ **–æ—Ä–∏–≥–∏–Ω–∞–ª–Ω–∏, –ª–æ–∫–∞–ª–Ω–∏ IP –∞–¥—Ä–µ—Å–∏** (–Ω–∞–ø—Ä. `rtsp://192.168.1.14:554/`). Tailscale —â–µ —Å–µ –ø–æ–≥—Ä–∏–∂–∏ –∑–∞ –æ—Å—Ç–∞–Ω–∞–ª–æ—Ç–æ.

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

* **Python 3**
* **PySide6**: –ó–∞ –∏–∑–≥—Ä–∞–∂–¥–∞–Ω–µ –Ω–∞ –≥—Ä–∞—Ñ–∏—á–Ω–∏—è –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—Å–∫–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.
* **OpenCV**: –ó–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞ –≤–∏–¥–µ–æ –ø–æ—Ç–æ—Ü–∏.
* **QSS (Qt Style Sheets)**: –ó–∞ —Å—Ç–∏–ª–∏–∑–∏—Ä–∞–Ω–µ –Ω–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞.

---

# Tsa-Security - Video Surveillance System

[–ë—ä–ª–≥–∞—Ä—Å–∫–∞ –≤–µ—Ä—Å–∏—è](#tsa-security---—Å–∏—Å—Ç–µ–º–∞-–∑–∞-–≤–∏–¥–µ–æ–Ω–∞–±–ª—é–¥–µ–Ω–∏–µ)

**Tsa-Security** is a modern and intuitive desktop application for video surveillance, created with **PySide6**. It provides users with the ability to monitor in real-time, record, and manage cameras. With its clean and modern dark interface, the application is suitable for both standard users and administrators who need more control.

## üåü Features

* **User Management**: The application supports two user roles - **Administrator** and **Standard**. Administrators have full access to all functionalities.
* **Dynamic Interface**: The user interface adapts to the user's role, hiding administrative panels from standard users.
* **Remote Access via Tailscale**: Allows secure monitoring of your cameras from anywhere in the world, without the need for complex configurations like port forwarding. Your office PC becomes a personal NVR.
* **Real-time Monitoring**: Displays video streams from multiple cameras in a configurable grid (1x1, 2x2, 3x3), with the ability to select a specific camera.
* **Camera Management**: Allows for easy adding, editing, and deleting of cameras, as well as scanning the local network for automatic discovery.
* **Recording and Snapshots**: Offers one-click manual recording and snapshots from the video stream.
* **Motion Detection**: The system can detect motion in the frame and visually indicate it with a red border.
* **Event Review**: A dedicated section for reviewing recordings and events, with options to filter by camera and event type.
* **Customization**: Settings to change the theme, default grid view, and the storage path for recordings.
* **Modern Design**: Uses **QSS** for styling, providing a professional and consistent look.

## üöÄ Getting Started

1.  **Clone the repository**:
    ```bash
    git clone [https://github.com/your-username/tsa-security-redesign1.git](https://github.com/your-username/tsa-security-redesign1.git)
    ```
2.  **Install the dependencies**:
    ```bash
    pip install PySide6 opencv-python onvif-zeep
    ```
3.  **Run the application**:
    ```bash
    python main.py
    ```

## üíª Usage

Upon launching, you will be greeted by a login screen. You can use the following default credentials from the `data/users.json` file:

* **Administrator**:
    * **Username**: `admin`
    * **Password**: `password`
* **Standard User**:
    * **Username**: `user`
    * **Password**: `user`

## üîí Setting up Remote Access (Tailscale)

This functionality turns the computer running the application (e.g., in your office) into your personal NVR server, accessible from anywhere.

### Step 1: On the Server PC (in the office)

1.  **Install Tailscale** from the official website and log into your account.
2.  **Share the local network**. Open Command Prompt **as an Administrator** and run the command. Replace `192.168.1.0/24` with your network's range if it's different.
    ```bash
    tailscale up --advertise-routes=192.168.1.0/24
    ```
3.  **Approve the routes** from your Tailscale admin console.

### Step 2: On the Remote Device (e.g., your laptop at home)

1.  **Install Tailscale** and log in with the **same account**.
2.  **Install TSA-Security** (copy the program folder and install the dependencies).

### Step 3: Connect

Run TSA-Security on your remote device. Add your cameras using their **original, local IP addresses** (e.g., `rtsp://192.168.1.14:554/`). Tailscale will handle the rest.

## üõ†Ô∏è Technologies

* **Python 3**
* **PySide6**: For building the graphical user interface.
* **OpenCV**: For processing video streams.
* **QSS (Qt Style Sheets)**: For styling the interface.
